<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liora Bioinformatics</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <nav class="navbar">
    <img class="logo" src="img/Liora_black.png" alt="Liora Bioinformatics Logo">

    <!-- Desktop Navigation -->
    <div class="navigation-refs hidden md:flex items-center" style="gap: 2rem">

      <div class="menu-item relative group">
        <a href="index.html" class="hover-underline font-bold">Home</a>
      </div>

      <!-- About Dropdown -->
      <div class="menu-item relative group">
        <!-- Hover triggers the whole group (including dropdown) -->
        <a href="about.html" class="hover-underline">About</a>

        <!-- Dropdown menu: visible when group is hovered -->
        <div class="hidden group-hover:flex flex-col dropdown">
          <a href="about.html" class="dropdown-element dropdown-first block">About Liora Bioinformatics</a>
          <a href="about-open-science.html" class="dropdown-element block">Open Science</a>
          <a href="service3.html" class="dropdown-element block">Data Challenges</a>
          <a href="service3.html" class="dropdown-element dropdown-last block">Big Data in Healthcare</a>
        </div>
      </div>

      <div class="menu-item relative group">
        <a href="index.html#services" class="hover-underline">Services</a>
      </div>

      <div class="menu-item relative group">
        <a href="index.html#contact" class="hover-underline">Contact</a>
      </div>
    </div>

    <div class="nav-madeingermany">
      <p class="nav-desc">
        <span style="color: #ffffff">Next-Gen Solutions</span>
      </p>
      <p class="nav-mig">
        <span style="color: #000000">Made </span>
        <span style="color: #DD0000">in </span>
        <span style="color: #FFCE00">Germany</span>
      </p>
    </div>

    <!-- Mobile menu button -->
    <div class="md:hidden flex items-center">
      <button class="menu-button focus:outline-none">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <!-- Mobile Navigation -->
    <div class="mobile-menu md:hidden bg-gray-800" style="display: none">
      <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
        <a href="index.html" class="block px-3 py-2 text-white hover:bg-gray-700 rounded font-bold">Home</a>

        <!-- About section with sub-links -->
        <a href="about.html" class="block px-3 py-2 text-white hover:bg-gray-700 rounded">About</a>
        <a href="about.html" class="block px-5 py-2 text-white hover:bg-gray-700 rounded">↳ About Liora
          Bioinformatics</a>
        <a href="about-open-science.html" class="block px-5 py-2 text-white hover:bg-gray-700 rounded">↳ Open
          Science</a>
        <a href="service3.html" class="block px-5 py-2 text-white hover:bg-gray-700 rounded">↳ Data Challenges</a>
        <a href="service3.html" class="block px-5 py-2 text-white hover:bg-gray-700 rounded">↳ Big Data in
          Healthcare</a>

        <a href="index.html#services" class="block px-3 py-2 text-white hover:bg-gray-700 rounded">Services</a>
        <a href="index.html#contact" class="block px-3 py-2 text-white hover:bg-gray-700 rounded">Contact</a>
      </div>
    </div>
  </nav>

  <div class="scroll-down">
    <p>Scroll for More</p>
  </div>

  <section class="section hero-section">
    <div class="round-box glass home-hero">
      <div style="display: flex; gap: 3em; margin-bottom: 20px; margin-left: 10%; width: fit-content;">
        <p style="font-size: 5em; font-weight: 300;">From</p>
        <p class="decrypted decrypted-small" data-text="<Data>" data-duration="1000"></p>
      </div>
      <p style="font-size: 5em; margin-top: 20px; margin-bottom: 20px; text-align: center; font-weight: 300;">to</p>
      <p class="decrypted decrypted-large" data-text="Discovery" data-duration="2000"></p>
    </div>
    <div class="home-hero-grid">
      <figure class="gallery__item gallery__item--1">
        <img src="img/variant_validation.png" alt="Gallery image 1" class="gallery__img">
      </figure>
      <figure class="gallery__item gallery__item--2">
        <img src="img/R_logo.png" alt="Gallery image 2" class="gallery__img">
      </figure>
      <figure class="gallery__item gallery__item--3">
        <img src="img/logo_name.svg" alt="Gallery image 3" class="gallery__img">
      </figure>
      <figure class="gallery__item gallery__item--4">
        <img src="img/bash.png" alt="Gallery image 4" class="gallery__img">
      </figure>
    </div>
    <img id="genomeTwo" class="genome-pic genome-hero" src="img/genome.png" alt="">
  </section>

  <section class="section landing-section">
    <div class="purpose">
      <p class="fade-in-first purpose-headline">
        When Experiments Scale, <br> Analysis Must Too.
      </p>
      <p class="fade-in-second purpose-subheadline">
        We apply Math, Statistics and Bioinformatics Technology to help labs and research
        groups adapt, automate, and accelerate.
      </p>
    </div>
    <div class="landing-cards">
      <div class="fade-in-first home-left">
        <div class="home-header-white">
          Custom Pipelines
        </div>
        <div class="home-profile">
          Stop adapting to generic tools — we craft tailored pipelines that run fast,
          feel intuitive, and match your lab's unique needs.
        </div>
        <div class="learn-more">
          Learn More
        </div>
      </div>
      <div class="fade-in-first home-left">
        <div class="home-header-white">
          Research & Development
        </div>
        <div class="home-profile">
          Need more than a pipeline? We partner on bioinformatics R&D to design,
          prototype, and deliver next-gen analysis solutions.
        </div>
        <div class="learn-more">
          Learn More
        </div>
      </div>
      <div class="fade-in-first home-left">
        <div class="home-header-white">
          Software
        </div>
        <div class="home-profile">
          We provide established, open-source bioinformatics tools with full lifecycle support —
          ready for deployment and maintained by our team.
        </div>
        <div class="learn-more">
          Learn More
        </div>
      </div>
      <div class="fade-in-first home-left">
        <div class="home-header-white">
          Data Analysis
        </div>
        <div class="home-profile">
          We transform your raw data into meaningful insights — from statistical models to analysis of Omics data.
        </div>
        <div class="learn-more">
          Learn More
        </div>
      </div>
    </div>
  </section>


  <section class="section projects-section" id="projects">
    <div class="max-w-7xl mx-auto px-4 h-full flex items-center justify-center relative">
    </div>
  </section>

  <div class="footer-section">
    <img src="img/Liora_rect_white.png" alt="Liora Bioinformatics Rectangular Logo" class="footer-logo">
    <div class="footer-content">
      <p>© 2025 Liora Bioinformatics. All rights reserved.</p>
      <div class="footer-links">
        <a href="#" class="hover:text-gray-300">Privacy Policy</a>
        <a href="#" class="hover:text-gray-300">Terms of Service</a>
        <a href="index.html#contact" class="hover:text-gray-300">Contact Us</a>
      </div>
    </div>
  </div>

  <script>
    // Navbar toggle
    const menuButton = document.querySelector('.menu-button');
    const mobileMenu = document.querySelector('.mobile-menu');
    const svgPath = document.querySelector('.menu-button path');
    menuButton.addEventListener('click', () => {
      mobileMenu.style.display = mobileMenu.style.display === 'block' ? 'none' : 'block';
      svgPath.setAttribute('d', mobileMenu.style.display === 'block'
        ? 'M6 18L18 6M6 6l12 12'
        : 'M4 6h16M4 12h16M4 18h16');
    });

    // Scroll animations for genome images
    const genome = document.getElementById('genome');
    const genomeTwo = document.getElementById('genomeTwo');
    window.addEventListener('scroll', () => {
      const scrollY = window.scrollY;
      genome.style.transform = `rotate(${(scrollY * 0.15) % 360}deg)`;
      genomeTwo.style.transform = `rotate(${(scrollY * 0.2) % 360}deg)`;
    });

    // Projects rendering and animations
    const projects = [
      { id: 1, logoSrc: "img/dark_white_green_wname.svg", description: "<span class='font-bold'>PhyloTrace</span> - all-in-one platform to perform and manage decentralized, hashed bacterial surveillance" },
      { id: 4, logoSrc: "img/hex-MKinfer.png", description: "<span class='font-bold'>MKinfer</span> - comprehensive suite of methods for statistical analysis of clinical data and biomedical experiments" },
      { id: 3, logoSrc: "img/hex-LFApp.png", description: "<span class='font-bold'>LFApp</span> - modular application for quantitative image analysis of lateral flow assays" },
      { id: 5, logoSrc: "img/hex-MKdescr.png", description: "<span class='font-bold'>MKdescr</span> - package providing functions to compute and visualize robust and standardized descriptive statistics" },
      { id: 2, logoSrc: "img/logo_name.svg", description: "<span class='font-bold'>KiwiFlow</span> - interactive pipeline to facilitate processing and analysis of proteomic mass spectrometry assays" },
      { id: 8, logoSrc: "img/hex-MKomics.png", description: "<span class='font-bold'>MKomics</span> - toolkit enabling quality control, processing and evaluation of Omics experiments" },
      { id: 6, logoSrc: "img/hex-MADApp.png", description: "<span class='font-bold'>MADapp</span> - intuitive workflow for image-based analysis of microarrays" },
      { id: 7, logoSrc: "img/hex-rmx.png", description: "<span class='font-bold'>rmx</span> - offers fast, optimally robust estimators for reliable parameter estimation in the presence of model deviations" },
      { id: 9, logoSrc: "img/hex-MKpower.png", description: "<span class='font-bold'>MKpower</span> - supports power analysis and sample size calculation for planning experiments, diagnostic studies, and clinical evaluations" },
    ];

    const projectsContainer = document.getElementById('projects');
    projects.forEach((project, index) => {
      const div = document.createElement('div');
      div.className = 'project-item';
      div.style.position = 'absolute';
      div.style.left = ['-50vh', '25vh', '-50vh', '50vh', '-25vh', '50vh'][index % 6];
      div.style.top = ['-15vh', '0vh', '15vh', '-15vh', '0vh', '15vh'][index % 6];
      div.innerHTML = `
          <div class="flex items-center justify-center" style="width: 800px">
            ${index % 2 === 0
          ? `<img src="${project.logoSrc}" alt="${project.description}"><p class="text-left text-lg">${project.description}</p>`
          : `<p class="text-right text-lg">${project.description}</p><img src="${project.logoSrc}" alt="${project.description}">`
        }
          </div>
        `;
      projectsContainer.appendChild(div);
    });

    gsap.registerPlugin(ScrollTrigger);
    const projectItems = document.querySelectorAll('.project-item');
    ScrollTrigger.create({
      trigger: '#projects',
      start: 'top top',
      end: `+=${window.innerHeight * (projects.length - 1)}`,
      pin: true,
      pinSpacing: true,
      scrub: true,
    });
    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: '#projects',
        start: 'top top',
        end: `+=${window.innerHeight * (projects.length - 1)}`,
        scrub: 0.5,
        snap: { snapTo: 1 / (projects.length - 1), duration: 0.3, ease: 'power1.inOut' },
      },
    });
    projectItems.forEach((item, index) => {
      if (index === 0) {
        gsap.set(item, { opacity: 1 });
      } else {
        tl.to(projectItems[index - 1], { opacity: 0, duration: 0.5 })
          .to(item, { opacity: 1, duration: 0.5 }, '-=0.8');
      }
    });
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const sections = document.querySelectorAll(".fade-in-first");
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add("is-visible");
            observer.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.1
      });

      sections.forEach(section => {
        observer.observe(section);
      });

      const sections_second = document.querySelectorAll(".fade-in-second");
      const observer_second = new IntersectionObserver(entries_second => {
        entries_second.forEach(entry_second => {
          if (entry_second.isIntersecting) {
            entry_second.target.classList.add("is-visible");
            observer_second.unobserve(entry.target_second);
          }
        });
      }, {
        threshold: 0.1
      });

      sections_second.forEach(section_second => {
        observer_second.observe(section_second);
      });

      const sections_third = document.querySelectorAll(".fade-in-third");
      const observer_third = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add("is-visible");
            observer_third.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.1
      });

      sections_third.forEach(section_third => {
        observer_third.observe(section_third);
      });

      const sections_fourth = document.querySelectorAll(".fade-in-fourth");
      const fourth = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add("is-visible");
            observer_fourth.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.1
      });

      sections_fourth.forEach(section_fourth => {
        observer_fourth.observe(section_fourth);
      });
    });
  </script>
  <script>
    function decryptText(element, fullText, duration) {
      const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
      const length = fullText.length;
      let frame = 0;
      const totalFrames = Math.floor(duration / 20); // 30ms per frame

      const interval = setInterval(() => {
        const progress = frame / totalFrames;
        const revealCount = Math.floor(progress * length);
        let displayText = "";

        for (let i = 0; i < length; i++) {
          if (i < revealCount) {
            displayText += fullText[i];
          } else {
            displayText += chars[Math.floor(Math.random() * chars.length)];
          }
        }

        element.textContent = displayText;

        if (frame >= totalFrames) {
          clearInterval(interval);
          element.textContent = fullText; // Ensure final text is accurate
        }

        frame++;
      }, 30);
    }

    document.addEventListener("DOMContentLoaded", () => {
      const elements = document.querySelectorAll(".decrypted");
      elements.forEach(el => {
        const fullText = el.dataset.text;
        const duration = parseInt(el.dataset.duration, 10) || 2000; // Default 2 seconds
        decryptText(el, fullText, duration);
      });
    });
  </script>

  <script>
    const galleryItems = document.querySelectorAll('.gallery__item');
    const imageSets = [
      ['img/python.png', 'img/Python_logo.png', 'img/hex-LFApp.png', 'img/mst.png'],
      ['img/amr_heatmap.png', 'img/Nextflow_logo.png', 'img/hex-MADApp.png', 'img/r.png'],
      ['img/manage_schemes.png', 'img/ggplot2_logo.png', 'img/dark_white_green_wname.svg', 'img/nj_tree.png'],
      ['img/loci_info.png', 'img/Bioconductor_logo.png', 'img/hex-MKdescr.png', 'img/python.png'],
      ['img/variant_validation.png', 'img/R_logo.png', 'img/logo_name.svg', 'img/bash.png']
    ];

    // Track current set for each item
    const currentSets = Array(galleryItems.length).fill(0);

    function cycleImage(itemIndex) {
      try {
        const item = galleryItems[itemIndex];
        const currentImg = item.querySelector('.gallery__img');
        if (!currentImg) {
          console.error(`No image found in gallery item ${itemIndex + 1}`);
          return;
        }

        // Create new image element
        const newImg = document.createElement('img');
        newImg.src = imageSets[(currentSets[itemIndex] + 1) % imageSets.length][itemIndex];
        newImg.alt = `Gallery image ${itemIndex + 1}`;
        newImg.classList.add('gallery__img');

        // Apply animation based on item index
        if (itemIndex === 2) { // gallery__item--3
          // Reset current image classes
          currentImg.className = 'gallery__img';
          newImg.style.transform = 'scale(0) rotate(-90deg)';
          newImg.style.opacity = '0';
          newImg.classList.add('combined-start');
          item.appendChild(newImg);
          console.log(`Item ${itemIndex + 1}: Starting combined animation - out`);
          currentImg.classList.add('combined-out');
          setTimeout(() => {
            console.log(`Item ${itemIndex + 1}: Starting combined animation - in`);
            newImg.classList.remove('combined-start');
            newImg.classList.add('combined-in');
            newImg.style.transform = '';
            newImg.style.opacity = '';
          }, 50);
        } else { // gallery__item--1, gallery__item--2, gallery__item--4
          // Reset current image classes
          currentImg.className = 'gallery__img';
          newImg.style.opacity = '0';
          newImg.classList.add('fade-start');
          item.appendChild(newImg);
          console.log(`Item ${itemIndex + 1}: Starting fade animation - out`);
          currentImg.classList.add('fade-out');
          setTimeout(() => {
            currentImg.classList.add('done'); // Hide outgoing image
            console.log(`Item ${itemIndex + 1}: Starting fade animation - in`);
            newImg.classList.remove('fade-start');
            newImg.classList.add('fade-in');
            newImg.style.opacity = '';
          }, 200); // Wait for fade-out to complete
        }

        // Update current set
        currentSets[itemIndex] = (currentSets[itemIndex] + 1) % imageSets.length;

        // After transition, remove old image
        setTimeout(() => {
          if (currentImg && currentImg.parentNode) {
            currentImg.remove();
            console.log(`Item ${itemIndex + 1}: Removed old image`);
          }
        }, 500);

        console.log(`Cycled image for item ${itemIndex + 1} to ${newImg.src}`);
      } catch (error) {
        console.error(`Error cycling image for item ${itemIndex + 1}:`, error);
      }
    }

    // Verify gallery items exist
    if (galleryItems.length !== 4) {
      console.error(`Expected 4 gallery items, found ${galleryItems.length}`);
    }

    // Set up custom intervals and initial stagger for each image
    const intervals = [5000, 7000, 9000, 11000]; // 5s, 7s, 9s, 11s
    const initialDelay = 5000; // 5s initial delay
    const staggerOffsets = [0, 1000, 2000, 3000]; // 1s stagger for first cycle

    galleryItems.forEach((item, index) => {
      try {
        setTimeout(() => {
          setInterval(() => cycleImage(index), intervals[index]);
          cycleImage(index);
          console.log(`Started cycling for item ${index + 1} with interval ${intervals[index]}ms`);
        }, initialDelay + staggerOffsets[index]);
      } catch (error) {
        console.error(`Error setting up cycle for item ${index + 1}:`, error);
      }
    });
  </script>
</body>

</html>